# goit-algo2-hw-07

–ê–ª–≥–æ—Ä–∏—Ç–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–µ—à–µ–º: LRU Cache —Ç–∞ Splay Tree
–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î –¥–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —Ç–µ–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è LRU Cache —Ç–∞ Splay Tree —É –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö.

## –ó–∞–≤–¥–∞–Ω–Ω—è 1 ‚Äî –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö –∑ LRU Cache

–ú–µ—Ç–∞:
–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –º–∞—Å–∏–≤—É:

–ë–µ–∑ –∫–µ—à—É

–ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º LRU-–∫–µ—à—É

üõ† –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:
–ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –º–∞—Å–∏–≤ array –∑ 100 000 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª.

–ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è 50 000 –∑–∞–ø–∏—Ç—ñ–≤ (Range —ñ Update), 95% –∑ –Ω–∏—Ö ‚Äî –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ ‚Äú–≥–∞—Ä—è—á—ñ‚Äù –¥—ñ–∞–ø–∞–∑–æ–Ω–∏.

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

range_sum_no_cache / update_no_cache

range_sum_with_cache / update_with_cache –∑ LRUCache (—î–º–Ω—ñ—Å—Ç—å 1000)

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ë–µ–∑ –∫–µ—à—É : 21.63 c
LRU-–∫–µ—à : 8.88 c (–ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è √ó2.4)

–ö–µ—à—É–≤–∞–Ω–Ω—è –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞–≤–¥—è–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –æ–±—á–∏—Å–ª–µ–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

### –ó–∞–≤–¥–∞–Ω–Ω—è 2 ‚Äî –û–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª –§—ñ–±–æ–Ω–∞—á—á—ñ: LRU Cache vs Splay Tree

–ú–µ—Ç–∞:
–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª –§—ñ–±–æ–Ω–∞—á—á—ñ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

–ó @lru_cache

–ó Splay Tree

üõ† –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:
fibonacci_lru(n) ‚Äî –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

fibonacci_splay(n, tree) ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ Splay Tree

–ß–∞—Å –≤–∏–º—ñ—Ä—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ timeit –¥–ª—è n –≤—ñ–¥ 0 –¥–æ 950 –∑ –∫—Ä–æ–∫–æ–º 50

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:

n LRU Cache Time (s) Splay Tree Time (s)
0 0.00000069 0.00000188
50 ... ...
950 0.00000214 0.00031016

Splay Tree –ø–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–ª—å–Ω—ñ—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ –∑ LRU Cache —á–µ—Ä–µ–∑ —Å–∫–ª–∞–¥–Ω—ñ—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ—Å—Ç—É–ø—É.

–ü–æ–±—É–¥–æ–≤–∞–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫:
–í—ñ—Å—å X ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è n

–í—ñ—Å—å Y ‚Äî —Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –æ–±—á–∏—Å–ª–µ–Ω–Ω—è

–õ–µ–≥–µ–Ω–¥–∞: LRU Cache, Splay Tree

### –í–∏—Å–Ω–æ–≤–∫–∏

LRU Cache ‚Äî —à–≤–∏–¥–∫–∏–π —Ç–∞ –∑—Ä—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å.

Splay Tree ‚Äî –≥–Ω—É—á–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ —Å–∞–º–æ–±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è–º, –∞–ª–µ –º–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –æ–±—á–∏—Å–ª–µ–Ω—å –§—ñ–±–æ–Ω–∞—á—á—ñ.

–ö–µ—à—É–≤–∞–Ω–Ω—è ‚Äî –∫–ª—é—á–æ–≤–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.

### –ó–∞–ø—É—Å–∫

python lab_lru_splay.py

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:

![alt text](img/01.jpg)

![alt text](img/02.png)
